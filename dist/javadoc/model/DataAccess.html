<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_131) on Thu Nov 09 14:30:26 CET 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DataAccess</title>
<meta name="date" content="2017-11-09">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataAccess";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataAccess.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../model/BookingInfo.html" title="class in model"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../model/DataAccessException.html" title="class in model"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?model/DataAccess.html" target="_top">Frames</a></li>
<li><a href="DataAccess.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">model</div>
<h2 title="Class DataAccess" class="title">Class DataAccess</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>model.DataAccess</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DataAccess</span>
extends java.lang.Object</pre>
<div class="block">Provides the application with high-level methods to access the persistent
 data store. The class hides the fact that data are stored in a RDBMS and also
 hides all the complex SQL machinery required to access it.
 <p>
 The constructor and the methods of this class all throw a
 <a href="../model/DataAccessException.html" title="class in model"><code>DataAccessException</code></a> whenever an unrecoverable error occurs.
 <b>Note to the implementors</b>: constraint violations are <b>not</b>
 considered unrecoverable.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#ADULT">ADULT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#CHILD">CHILD</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../model/DataAccess.html#DataAccess-java.lang.String-java.lang.String-java.lang.String-">DataAccess</a></span>(java.lang.String&nbsp;url,
          java.lang.String&nbsp;login,
          java.lang.String&nbsp;password)</code>
<div class="block">Creates a new <code>DataAccess</code> object that interacts with the
 specified database, using the specified login and password.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../model/BookingInfo.html" title="class in model">BookingInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#book-java.lang.String-int-int-boolean-">book</a></span>(java.lang.String&nbsp;customer,
    int&nbsp;childCount,
    int&nbsp;adultCount,
    boolean&nbsp;groupedSeats)</code>
<div class="block">Books the specified number of seats for the specified customer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../model/BookingInfo.html" title="class in model">BookingInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#cancel-java.lang.String-int-int-">cancel</a></span>(java.lang.String&nbsp;customer,
      int&nbsp;childCount,
      int&nbsp;adultCount)</code>
<div class="block">Cancel, in whole or part, a previous booking made by the specified
 customer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#close--">close</a></span>()</code>
<div class="block">Closes the underlying connection and releases all related ressources.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#getAvailableSeats--">getAvailableSeats</a></span>()</code>
<div class="block">Returns the number of all the available (free) seats.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../model/BookingInfo.html" title="class in model">BookingInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../model/DataAccess.html#getBookingInfo-java.lang.String-">getBookingInfo</a></span>(java.lang.String&nbsp;customer)</code>
<div class="block">Returns the current booking information for the specified customer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CHILD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHILD</h4>
<pre>public static final&nbsp;int CHILD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#model.DataAccess.CHILD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ADULT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ADULT</h4>
<pre>public static final&nbsp;int ADULT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#model.DataAccess.ADULT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataAccess-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataAccess</h4>
<pre>public&nbsp;DataAccess(java.lang.String&nbsp;url,
                  java.lang.String&nbsp;login,
                  java.lang.String&nbsp;password)
           throws <a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></pre>
<div class="block">Creates a new <code>DataAccess</code> object that interacts with the
 specified database, using the specified login and password. Each object
 maintains a <b>dedicated</b> connection to the database until the
 <code>close</code> method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - the url of the database to connect to</dd>
<dd><code>login</code> - the (application) login to use</dd>
<dd><code>password</code> - the password</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></code> - if an unrecoverable error occurs</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="book-java.lang.String-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>book</h4>
<pre>public&nbsp;<a href="../model/BookingInfo.html" title="class in model">BookingInfo</a>&nbsp;book(java.lang.String&nbsp;customer,
                        int&nbsp;childCount,
                        int&nbsp;adultCount,
                        boolean&nbsp;groupedSeats)
                 throws <a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></pre>
<div class="block">Books the specified number of seats for the specified customer. The
 number of seats is specified for each price class, in order to compute
 the total amount of the booking. In addition, the customer can require
 that the booked seats be grouped, i.e. they bear consecutive numbers. The
 booking is performed in a all or nothing fashion.
 <p>
 If the booking succeeds, the method returns the same booking information
 as a subsequent call to <code>getBookingInfo</code>.
 <p>
 The "grouped seats" criteria only applies to the current booking. The
 method will not try to group the seats with those of a previous booking,
 if any.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customer</code> - the customer who makes the booking</dd>
<dd><code>childCount</code> - the number of seats to book for children</dd>
<dd><code>adultCount</code> - the number of seats to book for adults</dd>
<dd><code>groupedSeats</code> - <code>true</code> if the booked seats must be
 grouped, and <code>false</code> otherwise</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a booking info object if the booking is successful, or
 <code>null</code> if some argument is illegal or if booking criteria
 cannot not be satisfied</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></code> - if an unrecoverable error occurs</dd>
</dl>
</li>
</ul>
<a name="cancel-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>public&nbsp;<a href="../model/BookingInfo.html" title="class in model">BookingInfo</a>&nbsp;cancel(java.lang.String&nbsp;customer,
                          int&nbsp;childCount,
                          int&nbsp;adultCount)
                   throws <a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></pre>
<div class="block">Cancel, in whole or part, a previous booking made by the specified
 customer. The cancellation specifies the number of seats to cancel in
 each price class.
 <p>
 If the cancellation succeeds and some seats remain booked (partial
 cancellation), the method returns the same booking information as a
 subsequent call to <code>getBookingInfo</code>. If the cancellation succeeds
 and all seats are cancelled (complete cancellation), the method returns
 the following <a href="../model/BookingInfo.html" title="class in model"><code>BookingInfo</code></a> object: {customer, cancellation date,
 0.0f, empty list}.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customer</code> - the customer who cancel the booking</dd>
<dd><code>childCount</code> - the number of child seats to cancel, -1 if all are to
 be cancelled</dd>
<dd><code>adultCount</code> - the number of child seats to cancel, -1 if all are to
 be cancelled</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new booking info object if the cancellation was successful, or
 <code>null</code> if some parameter is illegal</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></code> - if an unrecoverable error occurs</dd>
</dl>
</li>
</ul>
<a name="getAvailableSeats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailableSeats</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.Integer&gt;&nbsp;getAvailableSeats()
                                                    throws <a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></pre>
<div class="block">Returns the number of all the available (free) seats. The returned
 information is consistent with the latest booking or cancellation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of each of the available seats; if no seat is
 available, the methode returns the empty list.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></code> - if an unrecoverable error occurs</dd>
</dl>
</li>
</ul>
<a name="getBookingInfo-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookingInfo</h4>
<pre>public&nbsp;<a href="../model/BookingInfo.html" title="class in model">BookingInfo</a>&nbsp;getBookingInfo(java.lang.String&nbsp;customer)
                           throws <a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></pre>
<div class="block">Returns the current booking information for the specified customer. The
 booking information reflects the overall effect of all the previous
 bookings and cancellations the customer made. For example:
 <ul>
 <li>If a customer booked 3 seats, cancelled 1 and then booked 2 more, the
 current booking status is "4 booked seats". The returned
 <a href="../model/BookingInfo.html" title="class in model"><code>BookingInfo</code></a> object bears the corresponding seat numbers, the
 corresponding amount and the date of the latest booking or cancellation.
 <li>If a customer never booked any seat or cancelled all the seats he/she
 had previously booked, the method returns <code>null</code>.
 </ul>
 <p>
 If no user is specified, the method returns the booking information
 aggregated over all the customers. The returned <a href="../model/BookingInfo.html" title="class in model"><code>BookingInfo</code></a>
 object is as follows: {null, total amount, date of the latest booking or
 cancellation, all booked seats}. If no booking was ever made, or if all
 the bookings have been cancelled, the method returns <code>null</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customer</code> - the customer for whom the booking info must be returned;
 <code>null</code> if all information must be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the booking information for the specified customer, or for all
 the customers if none is specified</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></code> - if an unrecoverable error occurs</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></pre>
<div class="block">Closes the underlying connection and releases all related ressources. The
 application must call this method when it is done accessing the data
 store.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../model/DataAccessException.html" title="class in model">DataAccessException</a></code> - if an unrecoverable error occurs</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataAccess.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../model/BookingInfo.html" title="class in model"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../model/DataAccessException.html" title="class in model"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?model/DataAccess.html" target="_top">Frames</a></li>
<li><a href="DataAccess.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
